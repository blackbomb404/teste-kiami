<header class="bg-light-gray text-sm text-dark-blue font-medium uppercase py-3 sticky top-0 z-10 shadow-md">
  <nav class="grid grid-cols-[auto_1fr_auto] justify-between items-center gap-x-5 max-w-[80%] mx-auto">
    <img [src]="logoPath" alt="" class="max-w-[10rem] object-contain">
    <ul class="flex justify-between items-center gap-x-16 py-4 max-w-[80%] mx-auto">
      @for (link of navLinks; track $index) {
        <li>
          <a (click)="scrollIntoSection($index)" class="cursor-pointer">{{link.text}}</a>
        </li>
      }
    </ul>
    <button type="button" class="bg-dark-blue text-sm uppercase px-6 py-1 text-white rounded-full" (click)="scrollIntoSection(5)">Contactos</button>
  </nav>
</header>

<main class="h-full">
  <section class="h-full overflow-hidden" #section>
    <!-- Carousel wrapper -->
    <div class="relative h-[30rem]">
      <!-- Carousel window -->
      <div class="w-screen h-full overflow-hidden" #carouselWindow>
        <div class="flex flex-nowrap w-max h-full relative">
          @for (carouselItem of carousel; track $index) {
            <div class="relative w-screen h-full overflow-y-hidden" *ngIf="carouselItem.active">
              <img [src]="carouselItem.thumbnailPath" class="w-full h-full object-cover object-center" alt="">
              <!-- Blue overlay -->
              <div class="absolute inset-0 px-16 font-semibold text-white bg-gradient-to-b from-transparent from-[0%] to-dark-blue/70 to-65%">
                <div class="absolute bottom-[30%] max-w-[50%] space-y-10">
                  <p class="text-2xl">{{carouselItem.title}}</p>
                  <div class="space-x-8">
                    <a [href]="carouselItem.actionButtonUrl" type="button"
                      class="inline-block px-8 py-1.5 transition-colors duration-300 text-dark-blue uppercase"
                      [ngClass]="carouselItem.actionButtonUrl ? 'bg-white hover:bg-[#ddd]': 'hidden'">
                      {{carouselItem.actionButtonText ?? 'Saber Mais'}}
                    </a>
                    <a target="_blank" [href]="'https://www.linkedin.com/sharing/share-offsite/?url='+carouselItem.actionButtonUrl" type="button"
                      class="inline-block px-8 py-1.5 transition-colors duration-300 text-dark-blue uppercase"
                      [ngClass]="carouselItem.actionButtonUrl ? 'bg-white hover:bg-[#ddd]': 'hidden'">
                      Partilhar
                    </a>
                  </div>
                    <!-- {{carouselItem.actionButtonUrl}} -->
                </div>
              </div>
            </div>
          }
        </div>
      </div>
      <!-- Indicators -->
      <div class="flex gap-x-5 absolute bottom-10 px-16">
        @for (_ of carousel; track $index) {
          <div *ngIf="_.active" #indicator class="w-2.5 aspect-square cursor-pointer rounded-full" (click)="scrollToFrame($index)"
          [ngClass]="$index === activeItem ? 'bg-orange' : 'bg-white'"></div>
        }
      </div>

    </div>

    <div class="bg-dark-blue">
      <div class="flex justify-between items-center max-w-[80%] gap-x-4 mx-auto text-white py-2">
        <p class="before:content-[url]">Torre do Maculusso, piso 5, R. Frederico Welwitsch, Luanda</p>
        <p>+244 939482938 </p>
        <p>geral&#64;kiamisoft.ao</p>
      </div>
    </div>
  </section>

  <section class="p-8 pb-48 scroll-m-[4.5rem]" #section>
    <div class="max-w-5xl mx-auto">
      <div class="flex justify-between items-center text-dark-blue mb-8">
        <h1 class="text-3xl font-semibold uppercase">Serviços</h1>
        <a class="cursor-pointer uppercase text-dark-blue font-medium">Ver Todos</a>
      </div>
      <div class="grid grid-flow-col grid-rows-[repeat(3,auto)] grid-cols-4 justify-between gap-x-2 text-center">
        @for (service of services; track $index) {
          <img [src]="service.iconPath" class="w-1/3 object-contain mx-auto" alt="">
          <h2 class="text-dark-blue font-semibold mt-4 mb-2">{{service.title}}</h2>
          <p class="text-sm">{{service.description}}</p>
        }
      </div>
    </div>
  </section>

  <section class="bg-light-gray px-8 py-16 h-full scroll-m-[4.5rem]" #section>
    <div class="max-w-5xl mx-auto relative -top-[12.25%]">
      <div class="flex justify-between items-center text-dark-blue mb-8">
        <h1 class="text-3xl font-semibold uppercase">Portfólio</h1>
        <a class="cursor-pointer uppercase text-dark-blue font-medium">Ver Todos</a>
      </div>
      <div class="grid grid-cols-3 gap-x-8 gap-y-10">
        @for (project of portfolio; track $index) {
          <img [src]="project.thumbnail" alt="" />
        }
      </div>
    </div>
  </section>
  
  <section class="bg-dark-blue p-8 pb-24 scroll-m-[4.5rem]" #section>
    <div class="max-w-5xl mx-auto">
      <div class="flex justify-between items-center text-white mb-8">
        <h1 class="text-3xl font-semibold uppercase">Notícias</h1>
        <a class="cursor-pointer uppercase font-medium">Ver Todas</a>
      </div>
      <div class="grid grid-flow-col grid-rows-[repeat(2,auto)] grid-cols-4 justify-between gap-x-2">
        @for (newsCard of news; track $index) {
          <img [src]="newsCard.thumbnail" class="" alt="">
          <div class="text-xs bg-white p-3.5">
            <p class="font-medium uppercase mb-2 whitespace-nowrap overflow-hidden text-ellipsis">{{newsCard.postedAt}} | <span [title]="newsCard.sector">{{newsCard.sector}}</span></p>
            <p class="line-clamp-3">{{newsCard.description}}</p>
          </div>
        }
      </div>
    </div>
    
  </section>
  <section class="scroll-m-[4.5rem]" #section>
    TESTEMUNHOS
  </section>

  <section class="px-8 py-20 bg-[url(assets/images/__newsletter_banner.jpg)] bg-cover bg-center">
    <div class="max-w-3xl mx-auto">
      <h1 class="text-3xl font-semibold text-white uppercase">Newsletter</h1>
      <p class="text-white mt-4 mb-10">Lorem ipsum dolor sit amet, consectetuer adipiscing elit, sed diam nonummy nibh euismod tincidunt ut
        laoreet dolore magna aliquam erat volutpat. Ut ex ea commodo consequat. Duis autem vel eum iriure
        dolor in hendrerit in
      </p>
      <form action="" class="grid grid-cols-[1fr_auto] gap-x-6">
        <input type="text" class="placeholder:text-dark-blue placeholder:font-medium px-5 py-2.5 outline-none" placeholder="INSERIR EMAIL" />
        <button type="button" class="button">Subscrever</button>
      </form>
    </div>
    
  </section>

  <section class="p-8 py-24 scroll-m-[4.5rem]" #section>
    <div class="max-w-5xl mx-auto flex justify-between gap-x-5">
      
      <form [formGroup]="contactForm" class="grow max-w-[39rem]">
        <div class="grid grid-cols-2 gap-5 mb-8">
          <input type="text" formControlName="name" class="col-span-full input-field" placeholder="NOME *"/>
          <input type="tel" formControlName="phoneNumber" class="input-field" placeholder="TELEFONE"/>
          <input type="email" formControlName="email" class="input-field" placeholder="EMAIL *" />
          <input type="text" formControlName="subject" class="col-span-full input-field" placeholder="ASSUNTO *" />
          <textarea formControlName="message" rows="8" class="col-span-full input-field resize-none" placeholder="MENSAGEM *"></textarea>
        </div>
        <button type="button" class="button">ENVIAR MENSAGEM</button>
      </form>
      <div class="text-dark-blue font-medium space-y-4">
        <div>
          <h2 class="text-3xl font-semibold mb-2.5">ENDEREÇO</h2>
          <p class="text-sm">Torre do Maculusso, piso 5, Rua Frederico Welwitsch,<br/>Luanda - Angola</p>
        </div>
        <div>
          <h2 class="text-3xl font-semibold mb-2.5">CONTACTOS</h2>
          <p class="text-sm">E: geral&#64;kiamisoft.ao</p>
          <p class="text-sm">T: (+244) 939 482 938</p>
        </div>
      </div>
    </div>
  </section>
</main>
<footer class="bg-light-gray text-dark-blue pt-8">
  <nav class="grid max-w-xl mx-auto p-8">
    <ul class="flex justify-between gap-x-8 font-medium mb-8">
      @for (link of navLinks; track $index) {
        <li><a class="uppercase">{{link.text}}</a></li>
      }
    </ul>
    <ul class="flex justify-around gap-x-2">
      @for (network of socialNetwoks; track $index) {
        <li><a [href]="network.url" target="_blank">
          <img [src]="network.iconPath" alt="" class="w-11 object-contain bg-white p-3 overflow-visible shadow rounded-full" />
        </a></li>
      }
    </ul>
  </nav>
  <div class="bg-dark-gray py-5">
    <ul class="flex justify-between text-sm font-medium max-w-5xl mx-auto">
      <li class="flex gap-x-12">
        <p >&#169; 2022, KiamiSoft</p>
        <a >Política de Cookies</a>
        <a >Política de Privacidade</a>
      </li>
      <li>
        <p >Desenvolvido por Kiamisoft</p>
      </li>
    </ul>
  </div>
</footer>